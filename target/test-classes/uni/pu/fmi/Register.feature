Feature: Управление на онлайн магазин от потребители и администратори

  # Поръчки
  Scenario: Успешно създаване на поръчка
    Given Потребител с ID 12 е в системата
    When Добави продукти "BOX HIGH PROTEIN BAR COCONUT,BOX HIGH PROTEIN BAR PEANUT BUTTER " към количката
    And Натисне бутона "Завърши поръчка"
    Then Създава се нова поръчка със статус "Изпратена"
    And Потребителят вижда съобщение "Поръчката е приета успешно."

  Scenario: Поръчка без продукти
    Given Потребител с ID 12 е в системата
    When Натисне бутона "Завърши поръчка"
    Then Появява се съобщение "Количката е празна. Моля, добавете продукти."

  Scenario: История на поръчки – има данни
    Given Потребител с ID 7 има предишни поръчки
    When Отвори секцията "Моите поръчки"
    Then Вижда списък с предишни поръчки и статуси

  Scenario: История на поръчки – няма данни
    Given Нов потребител без предишни поръчки
    When Отвори секцията "Моите поръчки"
    Then Вижда съобщение "Нямате направени поръчки."

  Scenario: Филтриране на поръчки по статус
    Given Потребител с ID 5 има поръчки с различни статуси
    When Избере филтър "Изпратени"
    Then Вижда само поръчките със статус "Изпратена"

  # Ревюта
  Scenario: Оставяне на ревю с валидни данни
    Given Потребител с ID 3 е закупил продукт с ID 101
    When Въведе оценка 5 и коментар "Страхотен продукт!"
    And Натисне бутона "Изпрати ревю"
    Then Ревюто се записва и е видимо към продукта

  Scenario: Оставяне на ревю без коментар
    Given Потребител с ID 3 е закупил продукт с ID 101
    When Въведе оценка 4 и празен коментар
    Then Появява се съобщение "Моля, въведете коментар."

  Scenario: Преглед на ревюта на продукт
    Given Продукт с ID 101 има 3 ревюта
    When Потребителят отвори страницата на продукта
    Then Вижда списък с ревюта и оценки

  Scenario: Изтриване на ревю от администратор
    Given Администратор с ID 1 е в панела
    When Избере ревю с ID 202
    And Натисне "Изтрий"
    Then Ревюто се премахва от системата

  # Продукти
  Scenario: Добавяне на нов продукт от администратор
    Given Администратор с ID 1 е в админ панела
    When Въведе продукт: "BOX CRUNCH PROTEIN BAR DUBAI", описание "PREMIUM", цена 154.99, наличност 20, категория "PROTEIN BAR"
    And Натисне бутона "Добави продукт"
    Then Продуктът се запазва успешно

  Scenario: Грешка при добавяне на продукт без име
    Given Администратор с ID 1 е в админ панела
    When Въведе празно име за продукт
    And Натисне "Добави продукт"
    Then Появява се съобщение "Името е задължително"

  Scenario: Редакция на съществуващ продукт
    Given Администратор с ID 1 избира продукт с ID 55
    When Променя цената на "299.99"
    And Натисне бутона "Запази промените"
    Then Продуктът се обновява успешно

  Scenario: Скриване на изчерпан продукт
    Given Продукт с ID 88 има наличност 0
    When Системата проверява списъка с продукти
    Then Продуктът не се показва в потребителския интерфейс

  Scenario: Търсене на продукт по ключова дума
    Given Потребител въвежда ключова дума "BOX CRUNCH PROTEIN BAR DUBAI"
    When Натисне бутона "Търси"
    Then Вижда списък с продукти, съдържащи думата "BOX CRUNCH PROTEIN BAR DUBAI"
